{"version":3,"sources":["services.js","components/PhonebookForm.js","components/Notification.js","App.js","index.js"],"names":["baseUrl","services","axios","get","then","response","data","newObject","post","id","put","concat","delete","PhonebookForm","_ref","handleFormSubmit","handleNameChange","handleNumberChange","newName","newNumber","react_default","a","createElement","onSubmit","value","onChange","type","Notification","message","messageType","className","Person","person","deletePerson","name","number","onClick","Persons","_ref2","persons","map","App_Person","key","Filter","_ref3","searchWord","handleSearchChange","App","_useState","useState","_useState2","Object","slicedToArray","setPersons","_useState3","_useState4","setNewName","_useState5","_useState6","setNewNumber","_useState7","_useState8","setsearchWord","_useState9","_useState10","setMessage","_useState11","_useState12","setMessageType","useEffect","personService","showMessage","msg","setTimeout","personsToShow","filter","RegExp","test","components_Notification","App_Filter","event","target","components_PhonebookForm","preventDefault","newPerson","some","element","window","confirm","p","apiPerson","catch","error","App_Persons","parseInt","personToDelete","find","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.5d4e4eac.chunk.js","sourcesContent":["import axios from 'axios'\n//const baseUrl = 'http://localhost:3001/api/persons'\n//const baseUrl = 'https://blooming-cliffs-12022.herokuapp.com/api/persons'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n  const request = axios.get(baseUrl)\n  return request.then(response => response.data)\n}\n\nconst create = newObject => {\n  const request = axios.post(baseUrl, newObject)\n  return request.then(response => response.data)\n}\n\nconst update = (id, newObject) => {\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\n  return request.then(response => response.data)\n}\n\nconst deleteRecord = id => {\n    const request = axios.delete(`${baseUrl}/${id}`)\n    return request.then(response => response.data)\n  }\n\nexport default { getAll, create, update, deleteRecord }","import React from 'react'\n\nconst PhonebookForm = ({\n    handleFormSubmit, \n    handleNameChange, \n    handleNumberChange, \n    newName, \n    newNumber}) =>\n    <form onSubmit={handleFormSubmit}>\n      <div>\n        nimi: <input value={newName} onChange={handleNameChange} />\n      </div>\n      <div>numero: <input value={newNumber} onChange={handleNumberChange} /></div>\n      <div>\n        <button type=\"submit\">lisää</button>\n      </div>\n    </form>\n\nexport default PhonebookForm","import React from 'react'\n\nconst Notification = ({ message, messageType }) => {\n    if (message === null) {\n      return null\n    }\n  \n    return (\n      <div className={`notification ${messageType}`}>\n        {message}\n      </div>\n    )\n  }\n\nexport default Notification","import React, { useState, useEffect } from 'react'\nimport personService from './services'\nimport './index.css'\n\n// components\nimport PhonebookForm from './components/PhonebookForm'\nimport Notification from './components/Notification'\n\nconst Person = ({person, deletePerson}) => \n  <li>\n    {person.name}  {person.number}\n    <button value={person.id} onClick={deletePerson} >poista</button>\n  </li>  \n\nconst Persons = ({persons, deletePerson}) => \n  <ul>{persons.map(person => <Person key={person.name} person={person} deletePerson={deletePerson}/>)}</ul>\n\nconst Filter = ({searchWord, handleSearchChange}) => \n  <p>rajaa näytettäviä: <input value={searchWord} onChange={handleSearchChange} /></p>\n\n\nconst App = () => {\n  const [ persons, setPersons] = useState([]) \n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ searchWord, setsearchWord ] = useState('')\n  const [ message, setMessage ] = useState('')\n  const [ messageType, setMessageType ] = useState('')\n\n  const hook = () => {\n    personService\n      .getAll()\n      .then(persons => {\n        setPersons(persons)\n      })\n  }\n  \n  useEffect(hook, [])\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n  \n  const handleSearchChange = (event) => {\n    setsearchWord(event.target.value)\n  }\n\n  const deletePerson = event => {\n    const id = parseInt(event.target.value)\n    const personToDelete = persons.find(p => p.id === id )\n\n    if(window.confirm(`Haluatko poistaa ${personToDelete.name}`))\n      personService\n        .deleteRecord(id)\n        .then( data => {     \n            showMessage(`poistettiin ${personToDelete.name}`, 'update')\n            setPersons(persons.filter(person => person.id !== id)) \n            return true\n          }\n        )\n        \n  }\n\n  const showMessage = (msg, type) => {\n    setMessageType(type)\n    setMessage(msg)\n    setTimeout(() => {\n      setMessage(null)\n    }, 5000)\n  }\n\n  const handleFormSubmit = (event) => {\n    event.preventDefault()\n\n    // Callback \n    // http://adripofjavascript.com/blog/drips/testing-array-contents-with-array-some.html\n    const isObjInArray = (element) => element.name === newName;\n\n    const newPerson = {\n      name: newName,\n      number: newNumber\n    }\n\n    if(persons.some(isObjInArray)) {\n      if(window.confirm(`${newName} on jo luettelossa, korvataanko vanha numero uudella?`)){\n        // Etsitään päivitettävän yhteystiedon id\n        const id = persons.filter(p => p.name === newName)[0].id\n        personService\n          .update(id, newPerson)\n          .then(apiPerson => {\n              setPersons(persons.map(person => person.id !== apiPerson.id ? person : apiPerson))\n              showMessage(`Yhteystieto ${apiPerson.name} päivitetty`, 'update')\n              return true\n              }\n            ).catch(error => {\n              showMessage(`Henkilö '${newPerson.name}' on jo poistettu palvelimelta`, 'error')\n              setPersons(persons.filter(p => p.id !== id))\n            })\n        setNewName('')\n        setNewNumber('')\n      }\n    } else {\n      personService\n        .create(newPerson)\n        .then(apiPerson => { \n          setPersons(persons.concat(apiPerson))\n          showMessage(`Lisättiin ${apiPerson.name}`, 'update')\n          return true\n          }\n        )\n      setNewName('')\n      setNewNumber('')\n\n    }\n  }\n\n  // Case insensitive filter\n  // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RegExp/test\n  const filterCallback = (person) =>  RegExp(searchWord,'i').test(person.name)\n  const personsToShow = persons.filter(filterCallback)\n\n  return (\n    <div>\n      <h2>Puhelinluettelo</h2>\n\n      {message && <Notification message={message} messageType={messageType}/>}\n      \n      <Filter searchWord={searchWord} handleSearchChange={handleSearchChange} />\n\n      <h3>Lisää uusi</h3>\n\n      <PhonebookForm \n        handleFormSubmit={handleFormSubmit} \n        handleNameChange={handleNameChange} \n        handleNumberChange={handleNumberChange} \n        newName={newName} \n        newNumber={newNumber} \n      />\n\n      <h3>Numerot</h3>\n\n      <Persons persons={personsToShow} deletePerson={deletePerson}/>\n    </div>\n  )\n\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n"],"sourceRoot":""}